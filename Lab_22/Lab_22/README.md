# Lab 22 — Liskov Substitution Principle (LSP)

##  Опис лабораторної роботи

**Тема:** Виявлення порушень принципу підстановки Лісков (LSP) та застосування альтернативних підходів.

**Мета роботи:**

* Поглибити розуміння принципу LSP.
* Навчитися знаходити порушення в ієрархіях класів.
* Виконати рефакторинг із використанням правильної ієрархії або композиції.
* Продемонструвати коректну роботу виправленого рішення.

---

##  Обраний варіант

**Варіант 2 — Bird & Penguin**

* Базовий клас: `Bird` з методом `Fly()`.
* Похідний клас: `Penguin`, який **не може літати**.
* Виклик `Fly()` для пінгвіна призводить до винятку → **порушення LSP**.

---

##  Початкова проблема (порушення LSP)

Принцип LSP стверджує:

> Об'єкти підкласу повинні бути взаємозамінними з об'єктами базового класу без порушення логіки програми.

У початковій реалізації:

* `Bird.Fly()` гарантує, що будь-який птах може літати.
* `Penguin.Fly()` викидає `NotImplementedException`.
* Клієнтський код падає під час виконання.

**Висновок:** підклас `Penguin` **не є підставним** замість `Bird` → порушення LSP.

---

##  Рефакторинг із дотриманням LSP

Було застосовано підхід **розділення ієрархії та інтерфейсів**:

* Створено абстрактний базовий клас `BirdBase` із методом руху `Move()`.
* Створено інтерфейс `IFlyingBird`, який містить лише метод `Fly()`.
* Літаючі птахи (`Sparrow`) реалізують `IFlyingBird`.
* Нелітаючі птахи (`PenguinFixed`) **не змушені** реалізовувати `Fly()`.

### Переваги рішення

* Відсутні винятки під час нормальної роботи.
* Клієнт працює лише з відповідними типами.
* Повністю дотримується принцип LSP.

---

##  Демонстрація роботи

У `Main()` показано:

1. **Порушення LSP** — виклик `Fly()` для `Penguin` → помилка.
2. **Виправлене рішення**:

   * Усі птахи можуть рухатися (`Move()`).
   * Літати можуть лише ті, хто реалізує `IFlyingBird`.
   * Програма завершується без помилок.

---

##  Структура проєкту

```
lab22/
 ├── Program.cs
 └── README.md
```

---

##  Як запустити

1. Відкрити проєкт у **Visual Studio** або **VS Code**.
2. Переконатися, що встановлено **.NET SDK**.
3. Виконати команду:

```bash
dotnet run
```

---

##  Висновки

* Порушення LSP часто виникає через **неправильне наслідування**.
* `NotImplementedException` у підкласі — типовий сигнал проблеми дизайну.
* **Розділення інтерфейсів** дозволяє створювати гнучкі та безпечні ієрархії.
* Дотримання SOLID-принципів покращує підтримуваність і розширюваність коду.

--